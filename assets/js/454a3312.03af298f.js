"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[912],{8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(6540);const d={},r=i.createContext(d);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},9457:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"tecnologias","title":"\u2699\ufe0f Tecnologias","description":"\ud83d\uddd3 Informa\xe7\xf5es Gerais","source":"@site/docs/tecnologias.md","sourceDirName":".","slug":"/tecnologias","permalink":"/rateio-app/docs/tecnologias","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcbb Desenvolvimento","permalink":"/rateio-app/docs/desenvolvimento"}}');var d=s(4848),r=s(8453);const l={},a="\u2699\ufe0f Tecnologias",c={},o=[{value:"\ud83d\uddd3 Informa\xe7\xf5es Gerais",id:"-informa\xe7\xf5es-gerais",level:2},{value:"Checklist de Entrada e Sa\xedda da \xc1rea de Tecnologia",id:"checklist-de-entrada-e-sa\xedda-da-\xe1rea-de-tecnologia",level:2},{value:"\u2705 Checklist de Entrada",id:"-checklist-de-entrada",level:3},{value:"\ud83d\udce4 Checklist de Sa\xedda",id:"-checklist-de-sa\xedda",level:3},{value:"Stack Tecnol\xf3gica",id:"stack-tecnol\xf3gica",level:2},{value:"Mobile (Frontend)",id:"mobile-frontend",level:3},{value:"Backend",id:"backend",level:3},{value:"Banco de Dados",id:"banco-de-dados",level:3},{value:"Outras Tecnologias",id:"outras-tecnologias",level:3},{value:"Arquitetura da Solu\xe7\xe3o",id:"arquitetura-da-solu\xe7\xe3o",level:2},{value:"Vis\xe3o Geral da Arquitetura",id:"vis\xe3o-geral-da-arquitetura",level:3},{value:"Componentes Principais",id:"componentes-principais",level:3},{value:"Mobile App (Expo)",id:"mobile-app-expo",level:4},{value:"Backend (NestJS)",id:"backend-nestjs",level:4},{value:"Banco de Dados",id:"banco-de-dados-1",level:4},{value:"Storage de Imagens",id:"storage-de-imagens",level:4},{value:"Diagrama da Arquitetura",id:"diagrama-da-arquitetura",level:3},{value:"Estrutura de Implanta\xe7\xe3o",id:"estrutura-de-implanta\xe7\xe3o",level:2},{value:"Ambiente de Desenvolvimento",id:"ambiente-de-desenvolvimento",level:3},{value:"Como os devs devem subir localmente:",id:"como-os-devs-devem-subir-localmente",level:4},{value:"Docker/Compose dispon\xedvel?",id:"dockercompose-dispon\xedvel",level:4},{value:"Vari\xe1veis de ambiente principais:",id:"vari\xe1veis-de-ambiente-principais",level:4},{value:"Ambiente de Produ\xe7\xe3o",id:"ambiente-de-produ\xe7\xe3o",level:3},{value:"URL:",id:"url",level:4},{value:"Estrat\xe9gia de deploy:",id:"estrat\xe9gia-de-deploy",level:4},{value:"Infraestrutura:",id:"infraestrutura",level:4},{value:"Ferramentas de observabilidade ativas:",id:"ferramentas-de-observabilidade-ativas",level:4},{value:"Diagrama de Implanta\xe7\xe3o",id:"diagrama-de-implanta\xe7\xe3o",level:3},{value:"Desenvolvimento (Local)",id:"desenvolvimento-local",level:4},{value:"Produ\xe7\xe3o",id:"produ\xe7\xe3o",level:4},{value:"Banco de Dados",id:"banco-de-dados-2",level:2},{value:"\ud83d\udc64 Usu\xe1rios e Autentica\xe7\xe3o",id:"-usu\xe1rios-e-autentica\xe7\xe3o",level:2},{value:"Enum: <code>UserRole</code>",id:"enum-userrole",level:3},{value:"Tabela: <code>users</code>",id:"tabela-users",level:3},{value:"Tabela: <code>revoked_tokens</code>",id:"tabela-revoked_tokens",level:3},{value:"\ud83d\udcb3 Contas (Bills)",id:"-contas-bills",level:2},{value:"Enum: <code>BillStatus</code>",id:"enum-billstatus",level:3},{value:"Tabela: <code>bills</code>",id:"tabela-bills",level:3},{value:"\ud83c\udf7d\ufe0f Itens da Conta",id:"\ufe0f-itens-da-conta",level:2},{value:"Tabela: <code>bill_items</code>",id:"tabela-bill_items",level:3},{value:"\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1 Participantes",id:"-participantes",level:2},{value:"Tabela: <code>participants</code>",id:"tabela-participants",level:3},{value:"\ud83d\udcb0 Divis\xf5es (Quem paga o qu\xea)",id:"-divis\xf5es-quem-paga-o-qu\xea",level:2},{value:"Tabela: <code>divisions</code>",id:"tabela-divisions",level:3},{value:"\ud83e\uddfe Taxas (Gar\xe7om, Couvert)",id:"-taxas-gar\xe7om-couvert",level:2},{value:"Enum: <code>FeeType</code>",id:"enum-feetype",level:3},{value:"Tabela: <code>fees</code>",id:"tabela-fees",level:3},{value:"\ud83e\udde0 Diagrama de Relacionamentos (Resumo)",id:"-diagrama-de-relacionamentos-resumo",level:2},{value:"\ud83e\uddfe Resumo dos Prefixos e Mapas",id:"-resumo-dos-prefixos-e-mapas",level:2},{value:"Considera\xe7\xf5es de Seguran\xe7a",id:"considera\xe7\xf5es-de-seguran\xe7a",level:2},{value:"Pol\xedticas de CORS:",id:"pol\xedticas-de-cors",level:3},{value:"Prote\xe7\xe3o de dados sens\xedveis:",id:"prote\xe7\xe3o-de-dados-sens\xedveis",level:3},{value:"Gest\xe3o de segredos:",id:"gest\xe3o-de-segredos",level:3},{value:"Autentica\xe7\xe3o e autoriza\xe7\xe3o:",id:"autentica\xe7\xe3o-e-autoriza\xe7\xe3o",level:3},{value:"Prote\xe7\xe3o de Imagens:",id:"prote\xe7\xe3o-de-imagens",level:3},{value:"Outras Medidas:",id:"outras-medidas",level:3},{value:"Fluxo de Dados - OCR e Divis\xe3o de Conta",id:"fluxo-de-dados---ocr-e-divis\xe3o-de-conta",level:2},{value:"1. Captura e Upload de Imagem",id:"1-captura-e-upload-de-imagem",level:3},{value:"2. Processamento OCR",id:"2-processamento-ocr",level:3},{value:"3. Divis\xe3o de Conta",id:"3-divis\xe3o-de-conta",level:3},{value:"Otimiza\xe7\xf5es para Mobile com Expo",id:"otimiza\xe7\xf5es-para-mobile-com-expo",level:2},{value:"Performance:",id:"performance",level:3},{value:"UX:",id:"ux",level:3},{value:"Bateria:",id:"bateria",level:3},{value:"Developer Experience:",id:"developer-experience",level:3},{value:"Considera\xe7\xf5es Adicionais",id:"considera\xe7\xf5es-adicionais",level:2},{value:"Privacidade e LGPD:",id:"privacidade-e-lgpd",level:3},{value:"Escalabilidade:",id:"escalabilidade",level:3},{value:"Custos:",id:"custos",level:3},{value:"Roadmap T\xe9cnico:",id:"roadmap-t\xe9cnico",level:3},{value:"Vantagens do Expo para o Projeto:",id:"vantagens-do-expo-para-o-projeto",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\ufe0f-tecnologias",children:"\u2699\ufe0f Tecnologias"})}),"\n",(0,d.jsx)(n.h2,{id:"-informa\xe7\xf5es-gerais",children:"\ud83d\uddd3 Informa\xe7\xf5es Gerais"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Nome do Projeto:"})," Divisor de Conta Inteligente"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Tech Lead:"})," [Nome do Tech Lead]"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Data de Entrada na \xc1rea:"})," [30/11/2025]"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Data Estimada de Conclus\xe3o da \xc1rea:"})," [30/11/2025]"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"checklist-de-entrada-e-sa\xedda-da-\xe1rea-de-tecnologia",children:"Checklist de Entrada e Sa\xedda da \xc1rea de Tecnologia"}),"\n",(0,d.jsx)(n.h3,{id:"-checklist-de-entrada",children:"\u2705 Checklist de Entrada"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"[\u2705] Documento de Vis\xe3o de Produto validado"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"-checklist-de-sa\xedda",children:"\ud83d\udce4 Checklist de Sa\xedda"}),"\n",(0,d.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,d.jsx)(n.li,{children:"[\u2705] Stack definida e aprovada"}),"\n",(0,d.jsx)(n.li,{children:"[\u2705] Diagrama de arquitetura completo"}),"\n",(0,d.jsx)(n.li,{children:"[\u2705] Plano de implanta\xe7\xe3o claro"}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Documento validado com o time de Desenvolvimento"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"stack-tecnol\xf3gica",children:"Stack Tecnol\xf3gica"}),"\n",(0,d.jsx)(n.h3,{id:"mobile-frontend",children:"Mobile (Frontend)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Framework:"})," Expo SDK 52+ (Managed Workflow)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Runtime:"})," React Native 0.76+"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Linguagem principal:"})," TypeScript"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Gerenciamento de Estado:"})," Zustand"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Navega\xe7\xe3o:"})," Expo Router (file-based routing)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Formul\xe1rios:"})," React Hook Form + Zod"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"HTTP Client:"})," Axios"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"UI Components:"})," React Native Paper"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"C\xe2mera:"})," Expo Camera"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Gerenciamento de Imagens:"})," Expo Image Picker + Expo Image Manipulator"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Persist\xeancia local:"})," Expo SecureStore (dados sens\xedveis) + AsyncStorage (cache)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Build/Deploy:"})," Expo Application Services (EAS)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Atualiza\xe7\xf5es:"})," EAS Update (OTA - Over-The-Air)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Justificativa da escolha:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo"})," oferece developer experience superior com managed workflow"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Build"})," simplifica drasticamente builds e distribui\xe7\xe3o na Play Store"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo Router"})," proporciona navega\xe7\xe3o type-safe baseada em arquivos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo SecureStore"})," garante armazenamento seguro de tokens"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Update"})," permite corre\xe7\xf5es e features sem rebuild (atualiza\xe7\xf5es OTA)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo Camera"})," e ",(0,d.jsx)(n.strong,{children:"Image Manipulator"})," oferecem APIs nativas simplificadas"]}),"\n",(0,d.jsx)(n.li,{children:"TypeScript garante type-safety e melhor manutenibilidade"}),"\n",(0,d.jsx)(n.li,{children:"Zustand oferece state management leve e perform\xe1tico para mobile"}),"\n",(0,d.jsx)(n.li,{children:"Desenvolvimento multiplataforma (Android/iOS futuro) com base de c\xf3digo compartilhada"}),"\n",(0,d.jsx)(n.li,{children:"Facilita integra\xe7\xe3o com servi\xe7os nativos sem eject"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"backend",children:"Backend"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Linguagem:"})," TypeScript (Node.js)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Framework:"})," NestJS 11"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ORM:"})," Prisma 6"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Estrat\xe9gia de autentica\xe7\xe3o/autoriza\xe7\xe3o:"})," JWT (JSON Web Tokens) com Passport.js"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"IA para OCR:"})," Google Cloud Vision API"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Processamento de imagens:"})," Sharp"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Justificativa da escolha:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"NestJS oferece arquitetura modular e escal\xe1vel"}),"\n",(0,d.jsx)(n.li,{children:"TypeScript garante consist\xeancia entre mobile e backend"}),"\n",(0,d.jsx)(n.li,{children:"Prisma proporciona type-safety no banco e migrations autom\xe1ticas"}),"\n",(0,d.jsx)(n.li,{children:"Google Cloud Vision API oferece OCR robusto para reconhecimento de texto em contas"}),"\n",(0,d.jsx)(n.li,{children:"Estrutura orientada a inje\xe7\xe3o de depend\xeancias facilita testes e manuten\xe7\xe3o"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"banco-de-dados",children:"Banco de Dados"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Tipo:"})," Relacional"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Tecnologia:"})," PostgreSQL 16"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Justificativa da escolha:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Banco robusto e confi\xe1vel para dados estruturados"}),"\n",(0,d.jsx)(n.li,{children:"Suporte excelente a ACID e transa\xe7\xf5es complexas"}),"\n",(0,d.jsx)(n.li,{children:"Compat\xedvel com diversos provedores de DBaaS (AWS RDS, Supabase, Render)"}),"\n",(0,d.jsx)(n.li,{children:"Prisma oferece excelente integra\xe7\xe3o com PostgreSQL"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"outras-tecnologias",children:"Outras Tecnologias"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Containeriza\xe7\xe3o:"})," Docker e Docker Compose (desenvolvimento backend)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Testes automatizados:"})," Jest (backend e mobile), Detox (E2E mobile)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Valida\xe7\xe3o de dados:"})," class-validator e class-transformer (backend), Zod (mobile)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Documenta\xe7\xe3o de API:"})," Swagger/OpenAPI"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Monitoramento e logs:"})," Sentry (erros), Expo Analytics (analytics mobile)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Storage de imagens:"})," AWS S3 / Cloudinary (produ\xe7\xe3o)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CI/CD:"})," GitHub Actions + EAS Build"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Justificativa da escolha:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Docker garante consist\xeancia entre ambientes de desenvolvimento do backend"}),"\n",(0,d.jsx)(n.li,{children:"Sentry captura erros em produ\xe7\xe3o tanto do app quanto da API"}),"\n",(0,d.jsx)(n.li,{children:"S3/Cloudinary oferecem storage escal\xe1vel para imagens das contas"}),"\n",(0,d.jsx)(n.li,{children:"Expo Analytics fornece insights sobre uso do app nativamente integrado"}),"\n",(0,d.jsx)(n.li,{children:"EAS Build automatiza processo de build e distribui\xe7\xe3o"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"arquitetura-da-solu\xe7\xe3o",children:"Arquitetura da Solu\xe7\xe3o"}),"\n",(0,d.jsx)(n.h3,{id:"vis\xe3o-geral-da-arquitetura",children:"Vis\xe3o Geral da Arquitetura"}),"\n",(0,d.jsxs)(n.p,{children:["A solu\xe7\xe3o segue uma arquitetura ",(0,d.jsx)(n.strong,{children:"mobile-backend"})," com separa\xe7\xe3o clara entre aplicativo mobile e backend:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Mobile (Expo + React Native):"})," Aplicativo nativo gerenciado pelo Expo que consome a API REST do backend"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Backend (NestJS + Prisma):"})," API REST que implementa l\xf3gica de neg\xf3cio, processamento de imagens via IA e gerencia persist\xeancia"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Banco de Dados (PostgreSQL):"})," Armazenamento persistente em ambiente gerenciado (DBaaS)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Storage (S3/Cloudinary):"})," Armazenamento de imagens das contas"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS (Expo Application Services):"})," Plataforma de build, distribui\xe7\xe3o e atualiza\xe7\xf5es OTA"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["A arquitetura foi projetada para ",(0,d.jsx)(n.strong,{children:"desenvolvimento local simplificado"})," e ",(0,d.jsx)(n.strong,{children:"deploy em produ\xe7\xe3o com servi\xe7os gerenciados"}),", garantindo:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Facilidade de desenvolvimento (Expo Dev Client + Docker para backend)"}),"\n",(0,d.jsx)(n.li,{children:"Confiabilidade em produ\xe7\xe3o (DBaaS e storage gerenciados)"}),"\n",(0,d.jsx)(n.li,{children:"Escalabilidade (API stateless, storage externo, banco gerenciado)"}),"\n",(0,d.jsx)(n.li,{children:"Performance mobile (cache local, otimiza\xe7\xe3o de imagens via Expo)"}),"\n",(0,d.jsx)(n.li,{children:"Deploy simplificado (EAS Build automatiza todo processo)"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"componentes-principais",children:"Componentes Principais"}),"\n",(0,d.jsx)(n.h4,{id:"mobile-app-expo",children:"Mobile App (Expo)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo Router:"})," Navega\xe7\xe3o file-based type-safe"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Screens:"})," Telas organizadas em diret\xf3rios ",(0,d.jsx)(n.code,{children:"(auth)"}),", ",(0,d.jsx)(n.code,{children:"(tabs)"}),", etc"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"State Management:"})," Zustand stores para estado global (auth, conta atual, participantes)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"HTTP Client:"})," Axios configurado com interceptors para autentica\xe7\xe3o"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"C\xe2mera:"})," Expo Camera para captura de fotos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Image Processing:"})," Expo Image Manipulator para otimiza\xe7\xe3o local"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Persist\xeancia Local:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Expo SecureStore para tokens (criptografado)"}),"\n",(0,d.jsx)(n.li,{children:"AsyncStorage para cache (hist\xf3rico, participantes)"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Update:"})," Sistema de atualiza\xe7\xf5es OTA para corre\xe7\xf5es r\xe1pidas"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"backend-nestjs",children:"Backend (NestJS)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Controllers:"})," Endpoints REST que recebem requisi\xe7\xf5es HTTP"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Services:"})," L\xf3gica de neg\xf3cio e orquestra\xe7\xe3o"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"OCR Service:"})," Integra\xe7\xe3o com Google Cloud Vision API"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Image Processing Service:"})," Otimiza\xe7\xe3o e manipula\xe7\xe3o de imagens (Sharp)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Prisma Service:"})," Camada de acesso a dados (ORM)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Guards/Interceptors:"})," Autentica\xe7\xe3o JWT, autoriza\xe7\xe3o e valida\xe7\xe3o"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"DTOs:"})," Valida\xe7\xe3o de entrada/sa\xedda com class-validator"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"banco-de-dados-1",children:"Banco de Dados"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"PostgreSQL:"})," Inst\xe2ncia gerenciada via DBaaS"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Entidades principais:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Users (usu\xe1rios do app)"}),"\n",(0,d.jsx)(n.li,{children:"Bills (contas fotografadas)"}),"\n",(0,d.jsx)(n.li,{children:"BillItems (itens reconhecidos da conta)"}),"\n",(0,d.jsx)(n.li,{children:"Participants (pessoas que dividem conta)"}),"\n",(0,d.jsx)(n.li,{children:"Divisions (divis\xe3o de cada item entre participantes)"}),"\n",(0,d.jsx)(n.li,{children:"Fees (taxas de gar\xe7om/couvert)"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Prisma Migrations:"})," Controle de vers\xe3o do schema"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"storage-de-imagens",children:"Storage de Imagens"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"AWS S3 / Cloudinary:"})," Armazenamento das fotos das contas"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Processamento:"})," Resize e otimiza\xe7\xe3o antes de enviar para OCR"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"URL pr\xe9-assinadas:"})," Seguran\xe7a no acesso \xe0s imagens"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"diagrama-da-arquitetura",children:"Diagrama da Arquitetura"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      USU\xc1RIO MOBILE                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n                       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              MOBILE APP (Expo + React Native)                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502 Expo Router  \u2502  \u2502    Zustand   \u2502  \u2502   Services   \u2502      \u2502\n\u2502  \u2502  (Routes)    \u2502  \u2502   (State)    \u2502  \u2502    (API)     \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502 Expo Camera  \u2502  \u2502SecureStore + \u2502  \u2502    Axios     \u2502      \u2502\n\u2502  \u2502   (Foto)     \u2502  \u2502 AsyncStorage \u2502  \u2502  (HTTP)      \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502                                              \u2502              \u2502\n\u2502                                              \u2502 HTTPS/REST   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                               \u2502\n                                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              BACKEND (NestJS + Prisma)                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502 Controllers  \u2502\u2192 \u2502   Services   \u2502\u2192 \u2502Prisma Service\u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502                                              \u2502              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502              \u2502\n\u2502  \u2502  OCR Service \u2502  \u2502Image Process \u2502         \u2502              \u2502\n\u2502  \u2502(Vision API)  \u2502  \u2502   (Sharp)    \u2502         \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                               \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502                          \u2502         \u2502\n                    \u25bc                          \u25bc         \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502  AWS S3/Cloudinary \u2502    \u2502   PostgreSQL (DBaaS)   \u2502\n        \u2502  (Imagens)         \u2502    \u2502                        \u2502\n        \u2502                    \u2502    \u2502  \u2022 Users               \u2502\n        \u2502  \u2022 Fotos contas    \u2502    \u2502  \u2022 Bills               \u2502\n        \u2502  \u2022 Thumbnails      \u2502    \u2502  \u2022 BillItems           \u2502\n        \u2502  \u2022 Otimizadas      \u2502    \u2502  \u2022 Participants        \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502  \u2022 Divisions           \u2502\n                                  \u2502  \u2022 Fees                \u2502\n                                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502 Expo Application Services\u2502\n                    \u2502        (EAS)             \u2502\n                    \u2502                          \u2502\n                    \u2502  \u2022 EAS Build (CI/CD)     \u2502\n                    \u2502  \u2022 EAS Submit (Deploy)   \u2502\n                    \u2502  \u2022 EAS Update (OTA)      \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(n.h2,{id:"estrutura-de-implanta\xe7\xe3o",children:"Estrutura de Implanta\xe7\xe3o"}),"\n",(0,d.jsx)(n.h3,{id:"ambiente-de-desenvolvimento",children:"Ambiente de Desenvolvimento"}),"\n",(0,d.jsx)(n.h4,{id:"como-os-devs-devem-subir-localmente",children:"Como os devs devem subir localmente:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Backend + Banco (Docker):"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Clonar reposit\xf3rio\ngit clone <repo-url>\ncd rateio-app\n\n# Configurar vari\xe1veis de ambiente\ncp .env.example .env\ncp backend/.env.example backend/.env\n\n# Subir backend + banco com Docker\ndocker-compose up -d\n\n# Executar migrations\ndocker-compose exec api npx prisma migrate dev\n\n# Criar seed inicial (usu\xe1rio de teste)\ndocker-compose exec api npx prisma db seed\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Mobile App (Expo):"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Instalar Expo CLI globalmente (se ainda n\xe3o tiver)\nnpm install -g expo-cli\n\n# Instalar depend\xeancias\ncd mobile\nnpm install\n\n# Configurar vari\xe1veis de ambiente\ncp .env.example .env\n# Editar EXPO_PUBLIC_API_URL com IP da m\xe1quina (n\xe3o localhost!)\n\n# Iniciar Expo Dev Server\nnpx expo start\n\n# Op\xe7\xf5es:\n# - Pressione 'a' para abrir no emulador Android\n# - Pressione 'i' para abrir no simulador iOS (apenas macOS)\n# - Escaneie QR Code com Expo Go no celular\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u26a0\ufe0f IMPORTANTE para Expo:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Use vari\xe1veis com prefixo ",(0,d.jsx)(n.code,{children:"EXPO_PUBLIC_"})," (n\xe3o ",(0,d.jsx)(n.code,{children:"REACT_APP_"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:["Use o IP da sua m\xe1quina no ",(0,d.jsx)(n.code,{children:".env"}),", n\xe3o ",(0,d.jsx)(n.code,{children:"localhost"})," (ex: ",(0,d.jsx)(n.code,{children:"EXPO_PUBLIC_API_URL=http://192.168.1.100:3000"}),")"]}),"\n",(0,d.jsx)(n.li,{children:"Para desenvolvimento com Expo Go, n\xe3o precisa de emulador"}),"\n",(0,d.jsxs)(n.li,{children:["Para development builds: ",(0,d.jsx)(n.code,{children:"npx expo run:android"})," ou ",(0,d.jsx)(n.code,{children:"npx expo run:ios"})]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"dockercompose-dispon\xedvel",children:"Docker/Compose dispon\xedvel?"}),"\n",(0,d.jsxs)(n.p,{children:["\u2705 Sim. ",(0,d.jsx)(n.code,{children:"docker-compose.yml"})," na raiz orquestra apenas o backend:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Servi\xe7o ",(0,d.jsx)(n.code,{children:"api"})," (NestJS)"]}),"\n",(0,d.jsxs)(n.li,{children:["Servi\xe7o ",(0,d.jsx)(n.code,{children:"db"})," (PostgreSQL)"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Mobile n\xe3o precisa de Docker"})," - Expo gerencia tudo nativamente."]}),"\n",(0,d.jsx)(n.h4,{id:"vari\xe1veis-de-ambiente-principais",children:"Vari\xe1veis de ambiente principais:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Backend (",(0,d.jsx)(n.code,{children:"backend/.env"}),"):"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'DATABASE_URL="postgresql://postgres:postgres@localhost:5432/rateio_dev"\nNODE_ENV=development\nPORT=3000\nJWT_SECRET=seu-secret-aqui\nJWT_REFRESH_SECRET=outro-secret-aqui\nPASSWORD_PEPPER=pepper-para-senha\n\n# OCR API\nGOOGLE_VISION_API_KEY=sua-key-aqui\n\n# Storage de imagens\nAWS_S3_BUCKET=rateio-contas-dev\nAWS_S3_REGION=us-east-1\nAWS_S3_ACCESS_KEY=key\nAWS_S3_SECRET_KEY=secret\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Mobile (",(0,d.jsx)(n.code,{children:"mobile/.env"}),"):"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"EXPO_PUBLIC_API_URL=http://192.168.1.100:3000\nEXPO_PUBLIC_ENV=development\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Docker Compose (",(0,d.jsx)(n.code,{children:".env"})," na raiz):"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"DB_USER=postgres\nDB_PASSWORD=postgres123\nDB_NAME=rateio_dev\nDB_PORT=5432\n"})}),"\n",(0,d.jsx)(n.h3,{id:"ambiente-de-produ\xe7\xe3o",children:"Ambiente de Produ\xe7\xe3o"}),"\n",(0,d.jsx)(n.h4,{id:"url",children:"URL:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Mobile App: Play Store (distribu\xeddo via EAS Submit)"}),"\n",(0,d.jsxs)(n.li,{children:["Backend API: ",(0,d.jsx)(n.code,{children:"https://api.rateio.com"})," (a definir)"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"estrat\xe9gia-de-deploy",children:"Estrat\xe9gia de deploy:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Mobile (Android via EAS):"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Build via EAS:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Build de produ\xe7\xe3o (gera AAB para Play Store)\neas build --platform android --profile production\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Submit autom\xe1tico para Play Store:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"eas submit --platform android --latest\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Atualiza\xe7\xf5es OTA (sem rebuild):"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# Para corre\xe7\xf5es e features que n\xe3o precisam de c\xf3digo nativo\neas update --branch production --message "Corre\xe7\xe3o de bugs"\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Versionamento:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Gerenciado via ",(0,d.jsx)(n.code,{children:"app.json"})," (",(0,d.jsx)(n.code,{children:"version"})," e ",(0,d.jsx)(n.code,{children:"android.versionCode"}),")"]}),"\n",(0,d.jsx)(n.li,{children:"Incrementar a cada release"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Vantagens do EAS:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u2705 Builds na nuvem (n\xe3o precisa de m\xe1quina potente local)"}),"\n",(0,d.jsx)(n.li,{children:"\u2705 Submit autom\xe1tico para Play Store"}),"\n",(0,d.jsx)(n.li,{children:"\u2705 Atualiza\xe7\xf5es OTA instant\xe2neas (sem aprova\xe7\xe3o da loja)"}),"\n",(0,d.jsx)(n.li,{children:"\u2705 Preview builds para testar antes do release"}),"\n",(0,d.jsx)(n.li,{children:"\u2705 Gerenciamento de credenciais simplificado"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Backend:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Deploy via AWS App Runner, ECS, Render ou Railway"}),"\n",(0,d.jsx)(n.li,{children:"Container Docker em produ\xe7\xe3o"}),"\n",(0,d.jsx)(n.li,{children:"Auto-scaling baseado em carga"}),"\n",(0,d.jsx)(n.li,{children:"Health checks configurados"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Banco de Dados:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"DBaaS gerenciado (AWS RDS, Supabase)"}),"\n",(0,d.jsx)(n.li,{children:"Backups autom\xe1ticos di\xe1rios"}),"\n",(0,d.jsx)(n.li,{children:"Reten\xe7\xe3o de 30 dias"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Storage de Imagens:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"AWS S3 com CloudFront (CDN)"}),"\n",(0,d.jsx)(n.li,{children:"Lifecycle policies (deletar imagens antigas ap\xf3s 90 dias)"}),"\n",(0,d.jsx)(n.li,{children:"Compress\xe3o autom\xe1tica"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"infraestrutura",children:"Infraestrutura:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Mobile:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Build"})," - Builds automatizados na nuvem"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Submit"})," - Deploy autom\xe1tico para Play Store"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Update"})," - Atualiza\xe7\xf5es OTA instant\xe2neas"]}),"\n",(0,d.jsx)(n.li,{children:"Google Play Store (distribui\xe7\xe3o final)"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Backend:"})," AWS App Runner ou Render"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Banco de Dados:"})," AWS RDS PostgreSQL ou Supabase"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Storage:"})," AWS S3 + CloudFront"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"OCR:"})," Google Cloud Vision API"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Monitoramento:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Sentry (erros backend + mobile)"}),"\n",(0,d.jsx)(n.li,{children:"Expo Analytics (eventos e m\xe9tricas do app)"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"DNS:"})," Cloudflare ou Route 53"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SSL/TLS:"})," Certificados gerenciados pelo provedor"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CI/CD:"})," GitHub Actions integrado com EAS"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"ferramentas-de-observabilidade-ativas",children:"Ferramentas de observabilidade ativas:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Logs API:"})," CloudWatch (AWS) ou logs nativos do provedor"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Logs Mobile:"})," Sentry para crash reports"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Analytics:"})," Expo Analytics nativo + eventos customizados"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Monitoramento de API:"})," Sentry para erros de backend"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Uptime monitoring:"})," UptimeRobot"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Insights:"})," Dashboard de builds, updates e crashes"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"diagrama-de-implanta\xe7\xe3o",children:"Diagrama de Implanta\xe7\xe3o"}),"\n",(0,d.jsx)(n.h4,{id:"desenvolvimento-local",children:"Desenvolvimento (Local)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         M\xe1quina do Desenvolvedor        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502   Docker Compose (Backend)       \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502\n\u2502  \u2502  \u2502 Container  \u2502  \u2502 Container  \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   API      \u2502  \u2502    DB      \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502  (NestJS)  \u2502\u2192 \u2502(PostgreSQL)\u2502  \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Expo Dev Client                 \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502\n\u2502  \u2502  \u2502  Expo Go (celular) OU      \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502  Emulador/Simulador        \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502  \u2192 Conecta via IP local    \u2502  \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(n.h4,{id:"produ\xe7\xe3o",children:"Produ\xe7\xe3o"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   USU\xc1RIOS MOBILE                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u2502 Download via Play Store\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Google Play Store                              \u2502\n\u2502              (APK/AAB distribu\xeddo via EAS Submit)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u2502 HTTPS API Calls\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 Cloudflare / CDN                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 HTTPS                             \u2502 HTTPS\n         \u25bc                                   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  AWS S3/Cloudinary   \u2502      \u2502  AWS App Runner / Render    \u2502\n\u2502  (Storage Imagens)   \u2502      \u2502  (Backend NestJS)           \u2502\n\u2502                      \u2502      \u2502                             \u2502\n\u2502  \u2022 Fotos contas      \u2502      \u2502  \u2022 Container Docker         \u2502\n\u2502  \u2022 CDN CloudFront    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2502  \u2022 OCR Service (Vision API) \u2502\n\u2502  \u2022 Lifecycle policy  \u2502      \u2502  \u2022 Auto-scaling             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                         \u2502\n                                         \u2502 TCP/SSL\n                                         \u25bc\n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502   AWS RDS / Supabase       \u2502\n                              \u2502   (PostgreSQL DBaaS)       \u2502\n                              \u2502                            \u2502\n                              \u2502  \u2022 Backups autom\xe1ticos     \u2502\n                              \u2502  \u2022 Multi-AZ (HA)           \u2502\n                              \u2502  \u2022 Encryption at rest      \u2502\n                              \u2502  \u2022 Connection pooling      \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            Expo Application Services (EAS)                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502  EAS Build   \u2502  \u2502  EAS Submit  \u2502  \u2502  EAS Update  \u2502       \u2502\n\u2502  \u2502              \u2502  \u2502              \u2502  \u2502              \u2502       \u2502\n\u2502  \u2502 \u2022 Builds iOS \u2502  \u2502 \u2022 Deploy     \u2502  \u2502 \u2022 Atualiza\xe7\xf5es\u2502      \u2502\n\u2502  \u2502 \u2022 Builds     \u2502  \u2502   autom\xe1tico \u2502  \u2502   OTA        \u2502       \u2502\n\u2502  \u2502   Android    \u2502  \u2502   Play Store \u2502  \u2502 \u2022 Rollback   \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                              \u2502   Monitoramento            \u2502\n                              \u2502                            \u2502\n                              \u2502  \u2022 Sentry (erros)          \u2502\n                              \u2502  \u2022 Expo Analytics          \u2502\n                              \u2502  \u2022 CloudWatch (logs)       \u2502\n                              \u2502  \u2022 EAS Insights            \u2502\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(n.h2,{id:"banco-de-dados-2",children:"Banco de Dados"}),"\n",(0,d.jsx)(n.p,{children:"Este schema define a estrutura de um sistema que:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Gerencia ",(0,d.jsx)(n.strong,{children:"usu\xe1rios e autentica\xe7\xe3o"})]}),"\n",(0,d.jsxs)(n.li,{children:["Permite ",(0,d.jsx)(n.strong,{children:"upload e processamento de contas (bills)"})," com OCR"]}),"\n",(0,d.jsxs)(n.li,{children:["Organiza ",(0,d.jsx)(n.strong,{children:"itens"}),", ",(0,d.jsx)(n.strong,{children:"participantes"}),", ",(0,d.jsx)(n.strong,{children:"divis\xf5es"})," e ",(0,d.jsx)(n.strong,{children:"taxas adicionais"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"-usu\xe1rios-e-autentica\xe7\xe3o",children:"\ud83d\udc64 Usu\xe1rios e Autentica\xe7\xe3o"}),"\n",(0,d.jsxs)(n.h3,{id:"enum-userrole",children:["Enum: ",(0,d.jsx)(n.code,{children:"UserRole"})]}),"\n",(0,d.jsx)(n.p,{children:"Define o tipo de usu\xe1rio."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Valor"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ADMIN"})}),(0,d.jsx)(n.td,{children:"Usu\xe1rio administrador"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"USER"})}),(0,d.jsx)(n.td,{children:"Usu\xe1rio comum"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-users",children:["Tabela: ",(0,d.jsx)(n.code,{children:"users"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico (UUID)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"email"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"E-mail do usu\xe1rio (\xfanico)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Nome completo"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"password"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Senha (hash)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"role"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"UserRole"})}),(0,d.jsxs)(n.td,{children:["N\xedvel de permiss\xe3o (",(0,d.jsx)(n.code,{children:"USER"})," por padr\xe3o)"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"isActive"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Boolean"})}),(0,d.jsx)(n.td,{children:"Indica se a conta est\xe1 ativa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data da \xfaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"bills"}),": [Bill[]] \u2014 Contas pertencentes ao usu\xe1rio"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"revokedTokens"}),": [RevokedToken[]] \u2014 Tokens revogados deste usu\xe1rio"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-revoked_tokens",children:["Tabela: ",(0,d.jsx)(n.code,{children:"revoked_tokens"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"token"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Token JWT revogado (\xfanico)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"userId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID do usu\xe1rio propriet\xe1rio"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"expiresAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de expira\xe7\xe3o do token"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data da revoga\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"user"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"User"})," (",(0,d.jsx)(n.code,{children:"onDelete: Cascade"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"token"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"expiresAt"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"userId"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-contas-bills",children:"\ud83d\udcb3 Contas (Bills)"}),"\n",(0,d.jsxs)(n.h3,{id:"enum-billstatus",children:["Enum: ",(0,d.jsx)(n.code,{children:"BillStatus"})]}),"\n",(0,d.jsx)(n.p,{children:"Representa o status atual de uma conta."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Valor"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"PENDING_OCR"})}),(0,d.jsx)(n.td,{children:"Aguardando processamento OCR"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"OCR_FAILED"})}),(0,d.jsx)(n.td,{children:"Falha no OCR"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"REVIEWING"})}),(0,d.jsx)(n.td,{children:"Usu\xe1rio revisando itens"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DIVIDING"})}),(0,d.jsx)(n.td,{children:"Usu\xe1rio dividindo a conta"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"COMPLETED"})}),(0,d.jsx)(n.td,{children:"Divis\xe3o finalizada"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-bills",children:["Tabela: ",(0,d.jsx)(n.code,{children:"bills"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"userId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID do usu\xe1rio dono da conta"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"imageUrl"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"URL da imagem da conta (S3)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"imageKey"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Chave no S3 (para dele\xe7\xe3o)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"status"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"BillStatus"})}),(0,d.jsx)(n.td,{children:"Estado atual da conta"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ocrRawText"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String?"})}),(0,d.jsx)(n.td,{children:"Texto bruto extra\xeddo via OCR"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"totalAmount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Decimal?"})}),(0,d.jsx)(n.td,{children:"Valor total da conta"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"establishmentName"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String?"})}),(0,d.jsx)(n.td,{children:"Nome do estabelecimento"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"\xdaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"user"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"User"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"items"}),": lista de itens (",(0,d.jsx)(n.code,{children:"BillItem[]"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"participants"}),": lista de participantes (",(0,d.jsx)(n.code,{children:"Participant[]"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"fees"}),": taxas adicionais (",(0,d.jsx)(n.code,{children:"Fee[]"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"userId"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"status"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ufe0f-itens-da-conta",children:"\ud83c\udf7d\ufe0f Itens da Conta"}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-bill_items",children:["Tabela: ",(0,d.jsx)(n.code,{children:"bill_items"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"billId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID da conta associada"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Nome do item"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"quantity"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Int"})}),(0,d.jsx)(n.td,{children:"Quantidade (default: 1)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"unitPrice"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Decimal"})}),(0,d.jsx)(n.td,{children:"Pre\xe7o unit\xe1rio"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"totalPrice"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Decimal"})}),(0,d.jsx)(n.td,{children:"Pre\xe7o total (unitPrice \xd7 quantity)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"\xdaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"bill"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"Bill"})," (",(0,d.jsx)(n.code,{children:"onDelete: Cascade"}),")"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"divisions"}),": divis\xf5es entre participantes (",(0,d.jsx)(n.code,{children:"Division[]"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"billId"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-participantes",children:"\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1 Participantes"}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-participants",children:["Tabela: ",(0,d.jsx)(n.code,{children:"participants"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"billId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID da conta associada"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Nome do participante"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"\xdaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"bill"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"Bill"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"divisions"}),": lista de divis\xf5es que envolvem este participante (",(0,d.jsx)(n.code,{children:"Division[]"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"billId"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-divis\xf5es-quem-paga-o-qu\xea",children:"\ud83d\udcb0 Divis\xf5es (Quem paga o qu\xea)"}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-divisions",children:["Tabela: ",(0,d.jsx)(n.code,{children:"divisions"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"billItemId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID do item dividido"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"participantId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID do participante"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"shareAmount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Decimal"})}),(0,d.jsx)(n.td,{children:"Valor pago pelo participante neste item"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"\xdaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"billItem"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"BillItem"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"participant"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"Participant"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Restri\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"@@unique([billItemId, participantId])"})," \u2192 garante que cada participante aparece apenas uma vez por item"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"billItemId"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"participantId"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-taxas-gar\xe7om-couvert",children:"\ud83e\uddfe Taxas (Gar\xe7om, Couvert)"}),"\n",(0,d.jsxs)(n.h3,{id:"enum-feetype",children:["Enum: ",(0,d.jsx)(n.code,{children:"FeeType"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Valor"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"SERVICE_PERCENTAGE"})}),(0,d.jsx)(n.td,{children:"Taxa percentual sobre o total"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"SERVICE_FIXED"})}),(0,d.jsx)(n.td,{children:"Taxa de servi\xe7o fixa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"COVER_CHARGE"})}),(0,d.jsx)(n.td,{children:"Couvert fixo"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"tabela-fees",children:["Tabela: ",(0,d.jsx)(n.code,{children:"fees"})]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Campo"}),(0,d.jsx)(n.th,{children:"Tipo"}),(0,d.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"id"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"Identificador \xfanico"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"billId"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String"})}),(0,d.jsx)(n.td,{children:"ID da conta"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"type"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FeeType"})}),(0,d.jsx)(n.td,{children:"Tipo de taxa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"description"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"String?"})}),(0,d.jsx)(n.td,{children:"Descri\xe7\xe3o da taxa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"value"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Decimal"})}),(0,d.jsx)(n.td,{children:"Valor ou percentual da taxa"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"createdAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"Data de cria\xe7\xe3o"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"updatedAt"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DateTime"})}),(0,d.jsx)(n.td,{children:"\xdaltima atualiza\xe7\xe3o"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Rela\xe7\xf5es"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"bill"}),": refer\xeancia a ",(0,d.jsx)(n.code,{children:"Bill"})," (",(0,d.jsx)(n.code,{children:"onDelete: Cascade"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\xcdndices"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"billId"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-diagrama-de-relacionamentos-resumo",children:"\ud83e\udde0 Diagrama de Relacionamentos (Resumo)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"User \u2500\u2500\u2500< Bill \u2500\u2500\u2500< BillItem \u2500\u2500\u2500< Division >\u2500\u2500\u2500 Participant >\u2500\u2500\u2500 Bill\n        \u2502       \u2502                     \u2502\n        \u2502       \u2502                     \u2514\u2500\u2500 Fee\n        \u2502       \u2514\u2500\u2500 Participant\n        \u2514\u2500\u2500 RevokedToken\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-resumo-dos-prefixos-e-mapas",children:"\ud83e\uddfe Resumo dos Prefixos e Mapas"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Modelo"}),(0,d.jsxs)(n.th,{children:["Nome no banco (",(0,d.jsx)(n.code,{children:"@@map"}),")"]})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"User"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"users"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"RevokedToken"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"revoked_tokens"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Bill"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bills"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"BillItem"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bill_items"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Participant"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"participants"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Division"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"divisions"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Fee"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fees"})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"considera\xe7\xf5es-de-seguran\xe7a",children:"Considera\xe7\xf5es de Seguran\xe7a"}),"\n",(0,d.jsx)(n.h3,{id:"pol\xedticas-de-cors",children:"Pol\xedticas de CORS:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Desenvolvimento:"})," CORS habilitado para qualquer origem (mobile local)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Produ\xe7\xe3o:"})," CORS configurado apenas para dom\xednios espec\xedficos da API"]}),"\n",(0,d.jsx)(n.li,{children:"Mobile apps n\xe3o sofrem restri\xe7\xf5es CORS (comunica\xe7\xe3o nativa)"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"prote\xe7\xe3o-de-dados-sens\xedveis",children:"Prote\xe7\xe3o de dados sens\xedveis:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Senhas:"})," Hash com Argon2 (mais seguro que bcrypt para mobile)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Tokens JWT:"})," Assinados com secret forte, expira\xe7\xe3o de 7 dias (refresh) e 15min (access)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Imagens:"})," Armazenadas em S3 com URLs pr\xe9-assinadas de curta dura\xe7\xe3o"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Dados em tr\xe2nsito:"})," HTTPS/TLS obrigat\xf3rio"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Dados em repouso:"})," Encryption at rest no DBaaS e S3"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Dados no dispositivo:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo SecureStore"})," para tokens (criptografado nativamente)"]}),"\n",(0,d.jsx)(n.li,{children:"AsyncStorage apenas para cache n\xe3o-sens\xedvel"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Vari\xe1veis sens\xedveis:"})," Nunca commitadas, gerenciadas via ",(0,d.jsx)(n.code,{children:".env"})," e EAS Secrets"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"gest\xe3o-de-segredos",children:"Gest\xe3o de segredos:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Desenvolvimento:"})," Arquivo ",(0,d.jsx)(n.code,{children:".env"})," local (n\xe3o versionado)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Produ\xe7\xe3o Backend:"})," AWS Secrets Manager ou vari\xe1veis de ambiente do provedor"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Produ\xe7\xe3o Mobile:"})," ",(0,d.jsx)(n.strong,{children:"EAS Secrets"})," (gerenciamento seguro de credenciais)","\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Criar secret no EAS\neas secret:create --scope project --name API_URL --value https://api.rateio.com\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"API Keys (OCR):"})," Armazenadas no backend, nunca no app mobile"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Build credentials:"})," Gerenciados automaticamente pelo EAS"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"autentica\xe7\xe3o-e-autoriza\xe7\xe3o",children:"Autentica\xe7\xe3o e autoriza\xe7\xe3o:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"M\xe9todo:"})," JWT (JSON Web Tokens) via Passport.js"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fluxo:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Login \u2192 Backend valida credenciais \u2192 Retorna access token + refresh token"}),"\n",(0,d.jsxs)(n.li,{children:["App armazena tokens no ",(0,d.jsx)(n.strong,{children:"Expo SecureStore"})," (criptografado)"]}),"\n",(0,d.jsxs)(n.li,{children:["Requisi\xe7\xf5es incluem token no header ",(0,d.jsx)(n.code,{children:"Authorization: Bearer <token>"})]}),"\n",(0,d.jsxs)(n.li,{children:["Backend valida token via ",(0,d.jsx)(n.code,{children:"JwtGuard"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Refresh tokens:"})," Armazenados de forma segura no Expo SecureStore"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Logout:"})," Invalida\xe7\xe3o de tokens (blacklist) + limpeza do SecureStore"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Biometria:"})," Implement\xe1vel via ",(0,d.jsx)(n.code,{children:"expo-local-authentication"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"prote\xe7\xe3o-de-imagens",children:"Prote\xe7\xe3o de Imagens:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Upload:"})," Usu\xe1rio captura com Expo Camera \u2192 Otimiza com Image Manipulator \u2192 Envia para backend"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"URLs:"})," S3 gera URLs pr\xe9-assinadas com expira\xe7\xe3o de 1 hora"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Processamento:"})," Imagens tempor\xe1rias deletadas ap\xf3s OCR"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Privacidade:"})," Cada conta pertence a um usu\xe1rio, n\xe3o \xe9 p\xfablica"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"outras-medidas",children:"Outras Medidas:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Rate Limiting:"})," Implementado via ",(0,d.jsx)(n.code,{children:"@nestjs/throttler"})," para prevenir abuso da API"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Valida\xe7\xe3o de Input:"})," class-validator em todos os DTOs (backend), Zod (mobile)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Sanitiza\xe7\xe3o:"})," Prisma previne SQL injection automaticamente"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Headers de Seguran\xe7a:"})," Helmet.js configurado no backend"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Permiss\xf5es Mobile:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Gerenciadas via Expo Config Plugins"}),"\n",(0,d.jsx)(n.li,{children:"Solicitadas em runtime de forma nativa"}),"\n",(0,d.jsxs)(n.li,{children:["Mensagens customizadas no ",(0,d.jsx)(n.code,{children:"app.json"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Builds Seguros:"})," EAS gera APKs otimizados e assinados automaticamente"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SSL Pinning:"})," Implement\xe1vel via Expo Config Plugins se necess\xe1rio"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Logs:"})," N\xe3o logar informa\xe7\xf5es sens\xedveis (senhas, tokens, dados pessoais)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Code Obfuscation:"})," Configur\xe1vel no ",(0,d.jsx)(n.code,{children:"eas.json"})," para builds de produ\xe7\xe3o"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"fluxo-de-dados---ocr-e-divis\xe3o-de-conta",children:"Fluxo de Dados - OCR e Divis\xe3o de Conta"}),"\n",(0,d.jsx)(n.h3,{id:"1-captura-e-upload-de-imagem",children:"1. Captura e Upload de Imagem"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Mobile App \u2192 Tira foto \u2192 Comprime imagem \u2192 Envia para API\n                                                \u2502\n                                                \u25bc\n                                        Backend recebe imagem\n                                                \u2502\n                                                \u251c\u2500\u2192 Valida formato/tamanho\n                                                \u251c\u2500\u2192 Otimiza com Sharp\n                                                \u2514\u2500\u2192 Upload para S3\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-processamento-ocr",children:"2. Processamento OCR"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Backend \u2192 Gera URL pr\xe9-assinada do S3 \u2192 Envia para Google Vision API\n                                                \u2502\n                                                \u25bc\n                                        Vision API retorna texto\n                                                \u2502\n                                                \u25bc\n                                        Backend processa texto:\n                                        - Extrai itens\n                                        - Extrai valores\n                                        - Identifica total\n                                                \u2502\n                                                \u25bc\n                                        Salva no banco (Bill + BillItems)\n                                                \u2502\n                                                \u25bc\n                                        Retorna para o App\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-divis\xe3o-de-conta",children:"3. Divis\xe3o de Conta"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Mobile App exibe itens reconhecidos\n     \u2502\n     \u251c\u2500\u2192 Usu\xe1rio adiciona participantes\n     \u251c\u2500\u2192 Usu\xe1rio atribui itens a pessoas\n     \u251c\u2500\u2192 Usu\xe1rio adiciona taxas (gar\xe7om/couvert)\n     \u2502\n     \u25bc\nApp calcula localmente (preview)\n     \u2502\n     \u25bc\nUsu\xe1rio confirma \u2192 Envia divis\xe3o para API\n                         \u2502\n                         \u25bc\n                  Backend salva divis\xf5es\n                         \u2502\n                         \u25bc\n                  Backend calcula total de cada pessoa\n                         \u2502\n                         \u25bc\n                  Retorna resultado finalizado\n                         \u2502\n                         \u25bc\n                  App exibe resumo e salva no hist\xf3rico\n"})}),"\n",(0,d.jsx)(n.h2,{id:"otimiza\xe7\xf5es-para-mobile-com-expo",children:"Otimiza\xe7\xf5es para Mobile com Expo"}),"\n",(0,d.jsx)(n.h3,{id:"performance",children:"Performance:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Imagens:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Compress\xe3o com ",(0,d.jsx)(n.strong,{children:"Expo Image Manipulator"})," antes de upload"]}),"\n",(0,d.jsx)(n.li,{children:"Resize autom\xe1tico para dimens\xf5es ideais"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Cache:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"AsyncStorage para dados offline (participantes, hist\xf3rico recente)"}),"\n",(0,d.jsx)(n.li,{children:"Expo Image caching autom\xe1tico"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Lazy Loading:"})," Carregar hist\xf3rico sob demanda (pagina\xe7\xe3o)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Debounce:"})," Busca de participantes com debounce para evitar requests excessivos"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Hermes Engine:"})," Habilitado por padr\xe3o no Expo para melhor performance JS"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"ux",children:"UX:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Loading States:"})," Feedback visual durante upload e OCR"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Offline Mode:"})," App funciona offline para visualizar hist\xf3rico"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Error Handling:"})," Mensagens claras de erro (falha no OCR, sem conex\xe3o, etc)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Haptic Feedback:"})," ",(0,d.jsx)(n.code,{children:"expo-haptics"})," para vibra\xe7\xf5es sutis"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Splash Screen:"})," Configur\xe1vel via ",(0,d.jsx)(n.code,{children:"app.json"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"App Icons:"})," Gerados automaticamente pelo Expo"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"bateria",children:"Bateria:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"C\xe2mera:"})," Desligar quando n\xe3o estiver em uso (Expo gerencia automaticamente)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Polling:"})," Evitar polling desnecess\xe1rio na API"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Background Tasks:"})," Minimizar processamento em background"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Network:"})," Expo Network otimiza requisi\xe7\xf5es automaticamente"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"developer-experience",children:"Developer Experience:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Hot Reload:"})," Instant\xe2neo com Expo Dev Client"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Error Overlay:"})," Erros claros e naveg\xe1veis"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Debugging:"})," Integrado com Flipper e Chrome DevTools"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"OTA Updates:"})," Corre\xe7\xf5es sem rebuild via EAS Update"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"considera\xe7\xf5es-adicionais",children:"Considera\xe7\xf5es Adicionais"}),"\n",(0,d.jsx)(n.h3,{id:"privacidade-e-lgpd",children:"Privacidade e LGPD:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Usu\xe1rios podem deletar hist\xf3rico de contas"}),"\n",(0,d.jsx)(n.li,{children:"Imagens podem ser deletadas do S3 ap\xf3s processamento (opcional)"}),"\n",(0,d.jsx)(n.li,{children:"Pol\xedtica de privacidade clara no app"}),"\n",(0,d.jsx)(n.li,{children:"Consentimento para uso de dados"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Expo respei ta permiss\xf5es LGPD"})," nativamente"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"escalabilidade",children:"Escalabilidade:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"API stateless permite horizontal scaling"}),"\n",(0,d.jsx)(n.li,{children:"S3 escala automaticamente"}),"\n",(0,d.jsx)(n.li,{children:"Banco de dados pode ser escalado verticalmente ou com read replicas"}),"\n",(0,d.jsx)(n.li,{children:"OCR API (Google Vision) tem limites de quota - monitorar uso"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS Build"})," escala automaticamente para m\xfaltiplos builds simult\xe2neos"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"custos",children:"Custos:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"EAS:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Free tier: 30 builds/m\xeas"}),"\n",(0,d.jsx)(n.li,{children:"Production: $29/m\xeas para builds ilimitados"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Google Vision API:"})," ~$1.50 por 1000 imagens"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"AWS S3:"})," Storage + requests (baixo custo)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"RDS:"})," Inst\xe2ncia t3.micro eleg\xedvel para free tier (12 meses)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Monitorar:"})," Usage do Vision API para evitar custos excessivos"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"roadmap-t\xe9cnico",children:"Roadmap T\xe9cnico:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fase 1:"})," MVP - Android com funcionalidades core via Expo"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fase 2:"})," Melhorias de UX e performance"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fase 3:"})," ",(0,d.jsx)(n.strong,{children:"Vers\xe3o iOS (mesmo c\xf3digo, zero esfor\xe7o adicional com Expo)"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fase 4:"})," Features avan\xe7adas (split de pagamento, integra\xe7\xe3o PIX)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Fase 5:"})," Atualiza\xe7\xf5es OTA regulares via EAS Update"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"vantagens-do-expo-para-o-projeto",children:"Vantagens do Expo para o Projeto:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Time-to-market reduzido:"})," Setup em minutos vs dias"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Multiplataforma real:"})," iOS e Android com mesmo c\xf3digo"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Deploy simplificado:"})," EAS automatiza 90% do processo"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Atualiza\xe7\xf5es instant\xe2neas:"})," OTA updates sem aprova\xe7\xe3o de loja"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"DX superior:"})," Hot reload, error overlay, debugging integrado"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Menor curva de aprendizado:"})," Abstrai complexidades nativas"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Comunidade ativa:"})," Plugins e suporte excelentes"]}),"\n",(0,d.jsxs)(n.li,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Custo-benef\xedcio:"})," Free tier generoso, planos acess\xedveis"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}}}]);